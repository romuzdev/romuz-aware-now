
# System Interaction Map — v1.0
**Date:** 2025-11-08 • **Owner:** Senior Systems/Product Analyst  
**Scope:** Concise map of interactions across M1 → M25 (+ Appendix-I, Appendices v1.1) for Romuz Cybersecurity Culture Platform.

---

## 1) الغرض (Purpose)
خريطة تفاعل عليا توضّح تكامل الموديولات عبر الهوية، المحتوى، التحليلات، والتشغيل—لمحاذاة الفرق وتنقية نقاط الاندماج قبل التنفيذ.

## 2) مبادئ التصميم (Guardrails)
- **Multi-Tenant + per-DB isolation** (ملزم).
- **RLS/RBAC** على جميع القراءات، وتفويض عبر القدرات (capabilities).
- المصدر الوحيد للمقاييس: **Semantic Layer (M14)**.
- **Public API/Webhooks (M15)** كقناة رسمية للتكاملات.
- تصدير بدون **PII** افتراضيًا (سياسات M16).

## 3) الخريطة النصية المختصرة (Concise Map)
- **هوية وصلاحيات — M1/M12/M17**  
  → تدفق هوية موحّد (Users, Roles, MFA/JIT)  
  → يفرض **RBAC/RLS** على كل الخدمات.

- **مستودع المحتوى — M4**  
  → يزوّد **التوعية/الصيد** (M2/M9) و**التدريب 2.0** (M22) و**الاستوديو** (M23) بأصول منسّقة (نسخ/لغات/حالة).

- **برامج التوعية والحملات — M2/M9**  
  → تستخدم القوالب من **M4**، وتدفع نتائجها إلى **M14**، وترتبط بالتصعيد **M8** عند المخاطر.

- **التدريب المُشخّص — M22**  
  → رحلات حسب الدور/المخاطر، تقدّم/نتائج → **M14**، إشعارات عبر **M8/M6**، وبطاقات مساعدة من **M11**.

- **استوديو المحاكاة & A/B — M23**  
  → إدارة قوالب قنوات متعددة، نشر إلى M2/M9، قياس النتائج → **M14**، ترقية الفائز للانتشار.

- **التقويم والجاهزية — M21 + Appendix-I**  
  → عناصر تقويم قياسية (Owner/Due/Evidence)  
  → توليد **Pre-Audit Snapshot** المؤشّر بالأدلة (M10/M18/M17)  
  → التصعيد عبر **M8**، والعرض التنفيذي **M19**.

- **التحليلات الذاتية — M24**  
  → Explorations على **Semantic Views (M14)**  
  → مشاركة آمنة، إنذارات DQ → **M8**، لقطات للتقارير **M19**.

- **نجاح العملاء — M25**  
  → Health Compute من **M14**  
  → Playbooks تؤثر على الالتزام/الجاهزية (M21) واعتماد اللوحات (M19)  
  → Wizard يختصر TTV ويقترح تكاملات **M6**.

- **التقارير/الأدلة/الاختبارات — M10/M18/M19**  
  → تشكّل الحزمة التنفيذية (Evidence Packs, Board Packs)  
  → تتقاطع مع **M21** عبر فهرس الأدلة.

- **التكاملات والقنوات — M6 + M15**  
  → Entra/M365/Email/Slack Pilot  
  → واجهات API/Webhooks: calendar/snapshot, training, studio A/B, explorations, health.

## 4) نقاط الاندماج الحرجة (Key Integration Points)
- **M4 → (M2/M9/M22/M23):** تدفّق الأصول متعددة اللغات والحالات.  
- **(M2/M9/M22/M23) → M14:** مؤشرات الحملات/التدريب/A/B.  
- **M21 ↔ (M10/M18/M17):** فهرس الأدلة للجاهزية.  
- **M24 ↔ M14:** تعريفات KPIs + DQ Gates.  
- **M25 ↔ M14/M21/M19:** Health ← KPIs، تأثير Playbooks على الجاهزية والتقارير.  
- **M8:** قناة التصعيد الموحدة (Overdue, DQ, Health).  
- **M15:** عقود REST/Webhooks الموحّدة لكل ما سبق.

## 5) الاعتمادات (Dependencies)
- **M14** مطلوب قبل **M24/M25/M21** للاستمرارية.  
- **M6** مطلوب لقنوات التفاعل (تذكيرات/Nudges/محاكاة).  
- **M10/M18/M17** لازمة لإخراج Snapshot ذي قيمة.

## 6) معايير القبول (AC)
- تمثيل كل موديول رئيسي واحدًا على الأقل في الخريطة مع اتصالاته الأساسية.  
- إظهار مسار البيانات: **Source (M2/M22/M23) → M14 → M24/M19**.  
- تغطية التصعيد المركزي عبر **M8**.  
- ربط **M21** بالأدلة (M10/M18/M17) والتقارير (M19).  
- تصريح واضح بقيود **PII/Exports** (M16) واستخدام **M15** رسميًا للتكامل.

## 7) تحسينات مقترحة (اختياري)
- إضافة **Legend** مصغّر للأيقونات إن تحوّلنا لاحقًا لنسخة مرسومة.  
- توضيح “Feedback Loop” من **M25 Playbooks** إلى تفعيل حملات/تدريب جديدة (M2/M22) لتحسين المؤشرات.

---

**ملاحظة تنفيذية:** هذا المستند موجّه للتنسيق بين الفرق ويشكّل مرجعًا سريعًا قبل إنتاج الرسومات التفصيلية.
